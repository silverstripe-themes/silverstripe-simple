/* DEVICE & RESPONSIVE LAYOUT */

.header .nav-open-button {
	display: none
}
#media-query-trigger {
	display: none;
	visibility: hidden;
}

@media only screen and (max-width: 960px) { 
	.content img {
		max-width: 97%;
		height: auto;
	}
	.header .primary ul {
		margin-left: -12px;
		-webkit-padding-start: 0px;
	}
}

/* when changing the breakpoint below, change it ito the same value in the script.js file as well */
@media only screen and (max-width: 640px) { 
	body {
		max-width: 640px
	}
	#media-query-trigger {
		visibility: visible
	}

	.header {
		padding: 0px;
		.inner {
			padding: 20px 0 0 0;
			min-height: 0;
			.brand {
				float: none;
				display: inline-block;
				margin-left: 22px;
				margin-bottom: 22px;
				h1 {
					font-size: rem(3.1);
					padding-right: $grid-x*16;
				}
			}
			/* Search Form */
			.search-bar {
				width: 100%;
				position: relative;
				top: 0;
				right: 0;
				display: none;
				padding: $grid-y*4 0;
				margin: 0;
				background-color: $grayLighter;
				form {
					margin: 0;
					width: 100%;
					fieldset {
						padding: 0 18px;
						left: 0;
						right: 0;
						position: relative;
					}
					input {
						&.text {
							width: 93%;
							padding: 8px 7% 8px 0;
							text-indent: $grid-x*3;
							position: relative;
							display: block;
							right: 0;
							left: 0;
							border: 1px solid $grayLighter;
							background: $white;
							font-size: rem(1.3);
							@include borderRadius(20px);
							max-width:100%;
						}
						&.action {
							right: 24px;
							top: 2px;
							font-size: rem(1.4);
						}
					}
				}
				div.field {
					margin-bottom: 0;
				}
			}
			.search-dropdown-icon {
				display: block;
				cursor: pointer;
				width: rem(1.55); //needs to match the fontsize
				height: rem(1.55); //needs to match the fontsize
				position: absolute;
				right: 60px;
				top: 42px;
				font-family: $iconFont;
				font-size: rem(1.55);
				color: $offWhite;
				text-align: center;
				line-height: rem(1.55); //needs to be the same as the font size
			}
		}
		.primary {
			.nav-open-button {
				font-family: $iconFont;
				font-size: rem(1.55);
				color: $grayLighter;
				z-index: 100;
				width: rem(1.55); // needs to match font size
				height: rem(1.55); // needs to match font size
				position: absolute;
				right: 20px;
				top: 42px;
				display: block;
				cursor: pointer;
			}
			ul {
				z-index: 10;
				position: relative;
				display: none;
				float: left;
				margin: 0 !important;
				padding: 0;
				white-space: normal;
				width: 100%;
				li {
					width: 100%;
					margin: 0 !important;
					float: none;
					background: none;
					position: relative;
					text-shadow: 0 1px $white;
					&:after {
						content: '\003e';
						display: block;
						position: absolute;
						right: 20px;
						top: 0px;
						font-family: $iconFont;
						font-size: rem(1.1);
						line-height: rem(2.9); //needs to have a specific lineheight that is not based on $baseLineHeight
						color: lighten($gray, 5%);
						text-align: center;
						vertical-align: middle;
					}
					a {
						padding: 10px 0 10px 22px;
						font-weight: bold;
						border-bottom: 1px solid lighten($gray, 10%);
						color: $grayDark;
						border-radius: 0 !important;
						background: $grayLighter;
					}
					&.current,
					&.section {
						a {
							color: $grayDarker;
							background-color: $grayLight;
						}
						&:after {
							display: none;
						}
					}
					a:hover {
						color: $black;
					}
				}
			}
		}
	}

	.tablet-nav .header nav.primary ul li {
		padding: 0;
	}

	/* Main Content */
	.main {
	    padding: $grid-y*4 0 $grid-y*9;
	}
	.content-container,
	aside {
	    width: 100%
	}
		
	.typography {
		h1 {
			font-size: rem(2.3);
			line-height:rem-line-height(2.3);
			margin-bottom: $grid-y*3;
			padding-bottom: $grid-y*2;
		}
		p {
			font-size: rem(1.1);
			line-height: rem-line-height(1.1);
			&.intro {
				font-size: rem(1.45);
				line-height: rem-line-height(1.45);
			}
		}
	}

	.main .inner {
		padding: 0 $grid-x*5;
	}
	/* Secondry Nav */
	.secondary li {
		a {
			line-height: 24px
		}
		.arrow {
			line-height: 26px
		}
	}
	/* Footer */
	.footer .right {
	    float: left;
	    width: 100%;
	}
}

/* Based on HTML5 boilerplate print styles */
@media print { 
	* {
		background: transparent !important;
		color: black !important;
		box-shadow: none !important;
		text-shadow: none !important;
		filter: none !important;
		-ms-filter: none !important;
	}
	a,
	a:visited {
		text-decoration: underline
	}
	a[href]:after {
		content: " (" attr(href) ")";
	}
	abbr[title]:after {
		content: " (" attr(title) ")";
	}

	/*
	* Don't show links for images, or javascript/internal links
	*/

	.ir a:after,
	a[href^="javascript:"]:after,
	a[href^="#"]:after {
		content: "";
	}

	thead {
		display: table-header-group
	}
	tr,
	img {
		page-break-inside: avoid
	}
	img {
		max-width: 100% !important
	}
	pre,
	blockquote {
		border: 1px solid #999;
		page-break-inside: avoid;
	}
	@page {
		margin: 0.5cm;
	}
	p,
	h2,
	h3 {
		orphans: 3;
		widows: 3;
	}

	h2,
	h3 {
		page-break-after: avoid;
	}

	/* Simple theme custom print styles */
	.header,
	.footer,
	.nav-open-button,
	.search-bar,
	.search-dropdown-icon,
	nav.primary {
		display: none;
	}
}